<form [formGroup]="form"
      novalidate
      class="dialog__body"
>
  <label>
    <p>Название:</p>
    <input name="title" formControlName="title"/>
    <div
      *ngIf="form.controls['title'].invalid">
      Введите значение
    </div>

    <p>Описание:</p>
    <input name="text" formControlName="text"/>
    <div
      *ngIf="form.controls['text'].invalid">
      Введите значение
    </div>
  </label>

  <label>
    <p>Кто должен отвечать:</p>
    <div
      *ngFor="let item of players">
      <label>
        <input
          type="checkbox"
          name="playerId{{item.player.id}}"
          formControlName="playerId{{item.player.id}}"
          [value]="item.isSelect">
        {{item.player.name}}
      </label>
    </div>
  </label>

  <div *ngIf="this.answers.length < 4">
    <button (click)="onClickAddNewAnswer()">Добавить новый ответ</button>
  </div>

  <div cdkDropList
       class="answers-list"
       (cdkDropListDropped)="drop($event)">
    <div class="answer-box"
         *ngFor="let answer of answers" cdkDrag>
      <input name="answerId{{answer.id}}"
             formControlName="answerId{{answer.id}}"
             value="{{answer.text}}">
      <div
        *ngIf="form.controls['answerId' + answer.id].invalid">
        Введите значение
      </div>
      <button (click)="deleteAnswer(answer)">Удалить</button>
    </div>
  </div>


  <div class="editor__border">
    <div class="edit-scene-dialog__image-box"
         *ngIf="imgFile && imgFile !== ''">

      <img class="edit-scene-dialog__image-box__image"
           [src]="imgFile"
           [alt]="form.value.name">

      <button
        type="button"
        (click)="onClickDeletedImg()">
        Удалить
      </button>

    </div>

    <div>
      <button (click)="openImageDialog()">Выбрать изображение</button>
    </div>
  </div>

  <div class="editor__border">

    <div *ngFor="let video of videoSources">
      <video controls
             class="edit-scene-dialog__image-box__image"
             disabled="true"
             (click)="toggleVideo()">
        <source [src]="video" type="video/mp4" />
        Browser not supported
      </video>
    </div>

    <div>
      <input type="file" accept="video/mp4" (change)="openVideoDialog($event)" />
    </div>

  </div>

  <div>
    <button type="button" (click)="onNoClick()">
      Отмена
    </button>
    <button (click)="onClickSave()" *ngIf="form.valid">
      Сохранить
    </button>
  </div>

</form>

